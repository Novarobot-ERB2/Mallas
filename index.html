<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ERB 2 ¬∑ Malla Interactiva</title>
  <style>
    :root{
      --primary:#C7D300;    /* lima */
      --secondary:#6A1B9A;  /* morado */
      --teal:#00A7C7;       /* cian */
      --ink:#253442;        /* texto oscuro */
      --muted:#7B8A97;
      --bg:#F6F9FB;
      --card:#FFFFFF;
      --ring: rgba(106,27,154,.25);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--ink); background:linear-gradient(180deg,var(--bg),#fff 40%);
    }

    .app{display:grid; grid-template-columns: 290px 1fr; min-height:100vh}

    /* = Sidebar = */
    .sidebar{
      position:sticky; top:0; align-self:start; height:100vh; overflow:auto;
      background: radial-gradient(1200px 500px at -200px -200px, rgba(0,167,199,.08), transparent 60%), #0d1520;
      color:#E6F7FF; padding:20px 16px; border-right:1px solid rgba(255,255,255,.08);
    }
    .brand{display:flex; gap:12px; align-items:center; margin-bottom:18px}
    .brand img{height:44px; width:auto; display:block; filter: drop-shadow(0 3px 10px rgba(0,0,0,.25));}
    .brand h1{font-size:18px; line-height:1.1; margin:0}
    .tag{display:inline-block; margin-top:4px; font-size:12px; opacity:.9; color:#bde7f2}

    .nav{margin-top:14px; display:flex; flex-direction:column; gap:6px}
    .nav input{width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); color:#fff}
    .nav a{
      text-decoration:none; color:#e9e9ff; padding:10px 12px; border-radius:12px; display:flex; align-items:center; gap:8px;
      border:1px solid transparent; transition:.2s ease; font-size:14px
    }
    .nav a .dot{height:8px;width:8px;border-radius:999px;background:var(--teal); box-shadow:0 0 0 2px rgba(0,167,199,.25)}
    .nav a:hover{background:rgba(255,255,255,.07); border-color:rgba(255,255,255,.14)}
    .nav a.active{background:linear-gradient(90deg, rgba(199,211,0,.18), rgba(106,27,154,.18)); border-color:rgba(199,211,0,.35)}

    .legend{margin-top:14px; font-size:12px; color:#b8c6d4}

    /* = Main = */
    header{
      position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(10px);
      background:rgba(255,255,255,.7); border-bottom:1px solid rgba(0,0,0,.06);
    }
    .hdr{max-width:1160px; margin:auto; padding:14px 20px; display:flex; justify-content:space-between; align-items:center}
    .hdr h2{margin:0; font-size:18px}
    .hdr .actions{display:flex; gap:8px}
    .btn{appearance:none; border:none; background:var(--secondary); color:#fff; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; box-shadow:0 6px 20px rgba(106,27,154,.18)}
    .btn.ghost{background:#fff; color:var(--secondary); border:1px solid var(--secondary)}

    main{max-width:1160px; margin: 18px auto; padding: 0 20px 48px}

    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:18px}
    .card{grid-column: span 12; background:var(--card); border-radius:18px; border:1px solid rgba(0,0,0,.06); overflow:hidden; box-shadow: 0 10px 30px rgba(13,21,32,.06)}

    @media (min-width: 920px){ .card{grid-column: span 6} }

    .card header{position:relative; inset:auto; background:linear-gradient(90deg,rgba(199,211,0,.15), rgba(106,27,154,.12)); border-bottom:1px solid rgba(0,0,0,.06)}
    .card .title{padding:14px 16px}
    .title h3{margin:0; font-size:18px}
    .meta{font-size:12px; color:#5e6b77}

    .content{display:grid; grid-template-columns:1fr; gap:14px; padding:16px}
    .kpis{display:flex; gap:8px; flex-wrap:wrap}
    .kpi{background:linear-gradient(180deg,#fff, #f7fafc); border:1px dashed rgba(106,27,154,.25); border-radius:12px; padding:8px 10px; font-size:12px}

    .imgs{display:grid; grid-template-columns: 1fr; gap:12px}
    @media (min-width:720px){ .imgs{grid-template-columns: 1fr 1fr} }
    figure{margin:0; border:1px solid rgba(0,0,0,.06); border-radius:14px; overflow:hidden; background:#fff}
    figure img{display:block; width:100%; height:260px; object-fit:contain; background:#f3f7fa}
    figure figcaption{padding:8px 10px; font-size:12px; color:#5e6b77}

    .cta{display:flex; gap:10px; flex-wrap:wrap}
    .chip{background:rgba(199,211,0,.18); color:#46500a; border:1px solid rgba(199,211,0,.45); border-radius:999px; padding:6px 10px; font-size:12px}
    .btn.small{padding:8px 12px; border-radius:10px}
    .btn.teal{background:var(--teal)}
    .btn.lime{background:var(--primary); color:#344204}

    details.more{border-top:1px dashed rgba(0,0,0,.08); padding-top:10px}
    details.more > summary{
      list-style:none; cursor:pointer; display:flex; align-items:center; gap:10px; font-weight:700; color:var(--secondary);
      padding:8px 0; user-select:none;
    }
    details.more > summary::before{content:"‚ñ∏"; transition:transform .2s ease}
    details.more[open] > summary::before{transform:rotate(90deg)}

    .two-col{display:grid; grid-template-columns:1fr; gap:12px}
    @media(min-width:820px){ .two-col{grid-template-columns: 1fr 1fr} }

    .section{background:#fff; border:1px solid rgba(0,0,0,.05); border-radius:12px; padding:10px 12px}
    .section h4{margin:0 0 6px; font-size:14px; color:#3e4a56}
    .section ul{margin:0; padding-left:18px}
    .section li{margin:4px 0}

    .footer-note{margin-top:28px; font-size:12px; color:#6b7785}

    ::selection{background:rgba(199,211,0,.45)}
    :focus-visible{outline: 3px solid var(--ring); outline-offset:3px; border-radius:12px}

    @media (max-width: 900px){
      .app{grid-template-columns: 1fr}
      .sidebar{position:relative; height:auto}
      .hdr{padding-left:16px}
    }
  
  /* Lightbox CSS */
  #lightbox {
    display: none;
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    background: rgba(0,0,0,0.8);
    align-items: center; justify-content: center;
    z-index: 1000;
  }
  #lightbox img {
    max-width: 90%;
    max-height: 90%;
    box-shadow: 0 0 20px #fff;
  }
</style>
</head>
<body>
  <div id="login-overlay">
    <div class="login-container">
      <img src="img/nova-logo.png" alt="NOVA Robot" class="login-logo"/>
      <h2>Iniciar Sesi√≥n</h2>
      <input type="text" id="login-user" placeholder="Usuario"/>
      <input type="password" id="login-pass" placeholder="Contrase√±a"/>
      <button id="login-btn">Entrar</button>
      <p id="login-error" style="color:red; display:none;">Usuario o contrase√±a incorrectos</p>
    </div>
  </div>
  <style>
    /* Estilos del login */
    #login-overlay {
      position: fixed; top:0; left:0; width:100%; height:100%;
      background: #fff; display:flex; align-items:center; justify-content:center;
      z-index:2000;
    }
    .login-container {
      background:#fff; padding:30px; border-radius:12px; text-align:center;
      box-shadow:0 0 20px rgba(0,0,0,0.5); width:300px;
    }
    .login-logo { width:80px; margin-bottom:20px; }
    .login-container input {
      width:100%; padding:10px; margin:8px 0; border:1px solid #ccc; border-radius:6px;
    }
    .login-container button {
      width:100%; padding:10px; background: var(--secondary); color:#fff;
      border:none; border-radius:6px; cursor:pointer; font-size:16px;
    }
  </style>
  <script>
    // Credenciales v√°lidas
    const validCreds = {
      "NovaRobot ERB2": "NovaRobotERB2026",
      "NovaRobot": "ElectroRobotica2026"
    };
    document.getElementById('login-btn').addEventListener('click', () => {
      const user = document.getElementById('login-user').value;
      const pass = document.getElementById('login-pass').value;
      if (validCreds[user] === pass) {
        document.getElementById('login-overlay').style.display = 'none';
      } else {
        document.getElementById('login-error').style.display = 'block';
      }
    });
  </script>

  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <img src="img/nova-logo.png" alt="NOVA Robot" />
        <div>
          <h1>NOVA Robot</h1>
          <span class="tag">Centro de Rob√≥tica, Tecnolog√≠a y Valores</span>
        </div>
      </div>

      <div class="nav">
        <input id="filter" type="search" placeholder="Filtrar clases‚Ä¶" aria-label="Filtrar clases" />
        <nav id="classNav" aria-label="Navegaci√≥n de clases"></nav>
      </div>

      <p class="legend">‚Ä¢ Clic para ir a la clase.
      <br/>‚Ä¢ Usa <kbd>G</kbd> para ir arriba.</p>
    </aside>

    <!-- Main -->
    <div>
      <header>
        <div class="hdr">
          <h2 id="headerTitle">Malla ERB 2</h2>
          <div class="actions">
            <button class="btn ghost" id="expandAll">Expandir todo</button>
            <button class="btn" id="collapseAll">Contraer todo</button>
          </div>
        </div>
      </header>

      <main>
        <section class="grid" id="cards"></section>
        <p class="footer-note">
        Ultima actualizaci√≥n: Agosto 28 de 2025.
        </p>
      </main>
    </div>
  </div>

  <script>
    // ================== Datos de la Malla (completos) ==================
    // Estructura por clase: n, titulo, resumen, objetivos[], desarrollo[], preguntasObjetivo[], preguntasPropuestas[], guia[], conceptos[], aplicacion, herramientas[], tinkercad, adjuntos[]
        const MALLA = [
  {
    "n": 1,
    "titulo": "Repaso",
    "resumen": "Se jugar√° con un mazo de cartas que contienen:\n\t‚Ä¢\tNombre del componente\n\t‚Ä¢\tS√≠mbolo el√©ctrico\n\t‚Ä¢\tPregunta de funci√≥n o partes\n\nLos ni√±os deber√°n identificar componentes, sus funciones y partes seg√∫n la carta que les toque, por equipos o individualmente.",
    "objetivos": [
      "1. Repasar conceptos clave acerca de el primer curso",
      "2. Identificar cada componente con su funci√≥n y esquematico (simbolo electrico)",
      "3. Aclarar dudas de cada parte de los componentes",
      "Modalidad: explicaci√≥n guiada + juego an√°logo + implementaci√≥n libre"
    ],
    "desarrollo": [
      "10¬†min ‚Äì Breve repaso te√≥rico de cada componente (¬øqu√© es, c√≥mo funciona).",
      "30¬†min ‚Äì Juego de cartas en parejas para reforzar s√≠mbolos y caracter√≠sticas.",
      "20¬†min ‚Äì Discusi√≥n grupal: revisamos respuestas y aclaramos dudas.",
      "20 min - Circuito libre con fin de demostrar capacidades adquiridas.",
      "10 min ‚Äì Cierre"
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øPuedo reconocer y nombrar los componentes electr√≥nicos b√°sicos?",
      "‚Ä¢\t¬øPuedo relacionar el s√≠mbolo con el nombre y su uso?",
      "‚Ä¢\t¬øPuedo explicar brevemente c√≥mo funciona un componente?",
      "‚Ä¢\t¬øPuedo identificar las patas del transistor correctamente?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢ ¬øCu√°l es el s√≠mbolo de un transistor?",
      "‚Ä¢\t¬øD√≥nde est√° la base, el colector y el emisor?",
      "‚Ä¢\t¬øQu√© es una LDR y qu√© pasa si recibe mucha luz?",
      "‚Ä¢\t¬øC√≥mo se conecta un buzzer?",
      "‚Ä¢\t¬øQu√© cambia si giro el potenci√≥metro?",
      "‚Ä¢\t¬øQu√© hace el pulsador en un circuito?",
      "‚Ä¢\t¬øQu√© diferencia hay entre motor y buzzer?"
    ],
    "guia": [
      "‚Ä¢\tEstrategia activa: juego como herramienta de aprendizaje l√∫dico.",
      "‚Ä¢\tRefuerzo de conocimientos previos (de ERB1) antes de entrar en temas nuevos.",
      "‚Ä¢\tEnfoque visual y kinest√©sico: cartas ilustradas y posible manipulaci√≥n f√≠sica.",
      "‚Ä¢\tColaboraci√≥n: se permite preguntar entre compa√±eros y reforzar en equipo.",
      "‚Ä¢\tEvaluaci√≥n formativa: observaci√≥n del desempe√±o y comprensi√≥n durante el juego."
    ],
    "conceptos": [
      "‚Ä¢\tTransistor: s√≠mbolo, patas (B-C-E), uso como interruptor.",
      "‚Ä¢\tLDR: sensor de luz, s√≠mbolo, uso como entrada variable.",
      "‚Ä¢\tBuzzer: s√≠mbolo, sonido, diferencia entre activo/pasivo.",
      "‚Ä¢\tPotenci√≥metro: resistencia variable, s√≠mbolo, uso para controlar brillo/velocidad.",
      "‚Ä¢\tMotor: movimiento, s√≠mbolo, comparaci√≥n con el buzzer.",
      "‚Ä¢\tPulsador: entrada moment√°nea, s√≠mbolo, comparaci√≥n con interruptor fijo.",
      "‚Ä¢\tResistencia: control de corriente, s√≠mbolo, relaci√≥n con LDR y potenci√≥metro.",
      "‚Ä¢\tS√≠mbolos electr√≥nicos b√°sicos y su correspondencia visual."
    ],
    "aplicacion": "‚Ä¢ A interpretaci√≥n de cada estudiante, se analizar√° el mismo dentro del cierre.",
    "herramientas": [
      "N.A"
    ],
    "tinkercad": "",
    "adjuntos": [
      "Tarjetas para imprimir en hojas bilbiografiacas:"
    ]
  },
  {
    "n": 2,
    "titulo": "Transistores",
    "resumen": "Los ni√±os armar√°n un peque√±o circuito donde, al presionar un bot√≥n (o tocar un alambre), se activa un transistor NPN que enciende un LED o buzzer.\nA trav√©s de este ejercicio podr√°n observar c√≥mo el transistor act√∫a como interruptor controlado.\n\nAdicionalmente, usar√°n tarjetas para identificar:\n\t‚Ä¢\tEl s√≠mbolo del transistor\n\t‚Ä¢\tSus partes (Base, Colector, Emisor)\n\t‚Ä¢\tSu orientaci√≥n f√≠sica en protoboard",
    "objetivos": [
      "1.\tComprender el funcionamiento b√°sico del transistor como interruptor.",
      "2.\tIdentificar las partes del transistor (base, colector, emisor).",
      "3.\tAplicar el transistor en un circuito sencillo para controlar la corriente.",
      "4.\tEstimular la curiosidad mediante la manipulaci√≥n directa y la experimentaci√≥n.",
      "Modalidad: Individual ‚Äì guiado paso a paso."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Introducci√≥n te√≥rica: Se explicar√° c√≥mo funciona el transistor como interruptor electr√≥nico, identificando sus tres terminales: base, colector y emisor.",
      "‚Ä¢\t45 min ‚Äì Taller pr√°ctico: Cada estudiante arma un circuito con un transistor NPN, un LED, una resistencia y una pila. Se les gu√≠a para activar/desactivar el paso de corriente con la base.",
      "‚Ä¢\t15 min ‚Äì Socializaci√≥n guiada: Los estudiantes comparan lo que ocurre en su circuito y responden preguntas como: ¬øqu√© pasa si la base no recibe se√±al?",
      "‚Ä¢\t15 min ‚Äì Cierre: Se refuerzan conceptos clave, se muestra el s√≠mbolo del transistor y se realizan preguntas diagn√≥sticas para afianzar lo aprendido."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øPuedo identificar y nombrar las partes del transistor?",
      "‚Ä¢\t¬øPuedo explicar c√≥mo se usa un transistor como interruptor?",
      "‚Ä¢\t¬øComprendo c√≥mo se activa el transistor desde la base?",
      "‚Ä¢\t¬øPuedo construir un circuito simple donde un transistor controle un LED?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øCu√°ntas terminales tiene un transistor?",
      "‚Ä¢\t¬øQu√© hace el transistor cuando activas la base?",
      "‚Ä¢ Qu√© analog√≠a podemos comparar con el funcionamiento de un transistor?",
      "‚Ä¢ Qu√© partes tiene un transistor?",
      "‚Ä¢\t¬øD√≥nde conectas el LED: en la base, el colector o el emisor?",
      "‚Ä¢\t¬øQu√© pasa si inviertes el emisor y el colector?",
      "‚Ä¢\t¬øQu√© diferencia hay entre un interruptor mec√°nico y un transistor?"
    ],
    "guia": [
      "‚Ä¢\tSe consolida el concepto del transistor como cerebro/controlador.",
      "‚Ä¢\tSe desarrolla pensamiento l√≥gico a trav√©s de experimentaci√≥n con flujo de corriente.",
      "‚Ä¢\tSe promueve la exploraci√≥n activa, permitiendo errores (como conectar mal las patas y ver qu√© pasa).",
      "‚Ä¢\tSe trabaja con material real: protoboard, transistores, LED, resistencia, pulsadores.",
      "‚Ä¢\tLa gu√≠a del docente es clave para identificar patas correctamente (se sugiere usar fichas o etiquetas)."
    ],
    "conceptos": [
      "‚Ä¢\tTransistor NPN (2N2222, 2N3904): Base, Colector, Emisor.",
      "‚Ä¢\tS√≠mbolo electr√≥nico del transistor.",
      "‚Ä¢\tModo interruptor (cuando una peque√±a corriente en la base permite una mayor corriente entre colector y emisor).",
      "‚Ä¢\tPolaridad y conexi√≥n correcta.",
      "‚Ä¢\tCorriente de control (base) vs corriente de carga (colector-emisor).",
      "‚Ä¢\tErrores comunes: invertir terminales, falta de resistencia en la base."
    ],
    "aplicacion": "nan",
    "herramientas": [
      "1. Transistores 2N2222",
      "1. Led",
      "1. Buzzer",
      "4. Cables",
      "1. Bateria 9v con su clip"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 3,
    "titulo": "Multimetro\n\"Concepto voltaje\"",
    "resumen": "Taller pr√°ctico: ‚ÄúExploradores de Circuitos‚Äù\n\nLos ni√±os aprender√°n a usar el mult√≠metro a trav√©s de estaciones de exploraci√≥n guiadas. En cada estaci√≥n podr√°n:\n\t‚Ä¢\tMedir resistencias reales y comprobar con el c√≥digo de colores.\n\t‚Ä¢\tVer c√≥mo un condensador se carga/desarga al medir voltaje.\n\t‚Ä¢\tVerificar la continuidad de un cable o pista.\n\t‚Ä¢\tMedir el voltaje de una pila.\n‚Ä¢ Medir el voltaje generado por un motor.\nCada estudiante rotar√° por las estaciones, siguiendo una gu√≠a paso a paso con dibujos.",
    "objetivos": [
      "1.\tReconocer el mult√≠metro como una herramienta esencial para medir variables el√©ctricas.",
      "2.\tComprender el uso de las funciones b√°sicas: voltaje, corriente y continuidad.",
      "3.\tAplicar el mult√≠metro en la medici√≥n de componentes simples de manera segura.",
      "4.\tFomentar la autonom√≠a y el pensamiento cr√≠tico en un entorno controlado.",
      "Modalidad: Individual ‚Äì pr√°ctica supervisada."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Introducci√≥n te√≥rica: ¬øQu√© es un mult√≠metro? ¬øPara qu√© sirve? Se explican las funciones b√°sicas y c√≥mo leer la pantalla.",
      "‚Ä¢\t20 min ‚Äì Exploraci√≥n guiada: Cada estudiante mide el voltaje de una pila bajo supervisi√≥n, siguiendo el paso a paso del docente.",
      "‚Ä¢\t25 min ‚Äì Actividad pr√°ctica: Se entrega un circuito simple (LED + resistencia) para medir voltaje y comprobar continuidad de cables. Se anotan resultados.",
      "‚Ä¢\t15 min ‚Äì Reto t√©cnico: Con ayuda del docente, cada ni√±o diagnostica un ‚Äúerror‚Äù en un peque√±o circuito prearmado usando el mult√≠metro.",
      "‚Ä¢\t15 min ‚Äì Cierre: Discusi√≥n final sobre lo aprendido, su utilidad en la vida real y verificaci√≥n de aprendizajes mediante preguntas."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øPuedo seleccionar correctamente la funci√≥n del mult√≠metro para cada tipo de medici√≥n?",
      "‚Ä¢\t¬øS√© usar el mult√≠metro para identificar componentes como resistencias, condensadores y cables?",
      "‚Ä¢\t¬øComprendo la relaci√≥n entre lo que veo en el mult√≠metro y lo que ocurre en el circuito?",
      "‚Ä¢\t¬øPuedo detectar si una pila est√° funcionando?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øQu√© unidad mide el mult√≠metro cuando est√° en modo voltaje?",
      "‚Ä¢\t¬øC√≥mo sabes si un cable est√° cortado?",
      "‚Ä¢\t¬øQu√© pasa cuando tocas los terminales de una resistencia con las puntas del mult√≠metro?",
      "‚Ä¢\t¬øQu√© muestra el mult√≠metro al conectar un condensador reci√©n cargado?",
      "‚Ä¢\t¬øQu√© polaridad tiene una pila de 9V?",
      "‚Ä¢ Que sucede si conectamos los cables de polaridad de forma invertida en una bateria?"
    ],
    "guia": [
      "‚Ä¢\tSe introduce el uso de instrumentos reales de medici√≥n para conectar la teor√≠a con la pr√°ctica.",
      "‚Ä¢\tSe divide en estaciones de aprendizaje para facilitar el enfoque y rotaci√≥n organizada.",
      "‚Ä¢\tSe trabaja con observaci√≥n y descubrimiento guiado, en lugar de solo teor√≠a.",
      "‚Ä¢\tEl docente debe reforzar seguridad: puntas bien conectadas, cuidado al medir voltaje.",
      "‚Ä¢\tIdealmente cada estaci√≥n tiene al menos un mult√≠metro (o se rota el uso entre grupos peque√±os)."
    ],
    "conceptos": [
      "Mult√≠metro: medici√≥n de voltaje (V), corriente (A), resistencia (Œ©), continuidad.",
      "‚Ä¢\tResistencia: comparaci√≥n con c√≥digo de colores.",
      "‚Ä¢\tContinuidad: detecci√≥n de trayectos interrumpidos en un circuito.",
      "‚Ä¢\tVoltaje: diferencia de potencial entre dos puntos.",
      "‚Ä¢\tCondensador: almacenamiento de carga el√©ctrica.",
      "‚Ä¢\tPolaridad: sentido de flujo el√©ctrico y s√≠mbolos (+/-).",
      "‚Ä¢\tPrecauci√≥n y orden en el uso de herramientas electr√≥nicas."
    ],
    "aplicacion": "nan",
    "herramientas": [
      "1. Multimetro"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 4,
    "titulo": "Continuidad \n\"Construyamos nuestro propio multimetro\"\nIntroducci√≥n al 555",
    "resumen": "Taller pr√°ctico: ‚ÄúDetectives de continuidad‚Äù\n\n‚Ä¢ Los estudiantes construir√°n un circuito con un CI 555 que act√∫a como un medidor de continuidad.\n‚Ä¢ Una vez armado, usar√°n el circuito para probar cables: si el LED se enciende o el buzzer suena, hay continuidad.\n‚Ä¢ Se les entregar√° una ‚Äúcaja misteriosa‚Äù con cables: algunos funcionales, otros da√±ados internamente.\n‚Ä¢ El reto ser√° identificar cu√°les cables sirven y cu√°les no, anotando sus conclusiones en una hoja.\n‚Ä¢ Se plantea como un juego de diagn√≥stico el√©ctrico con pistas.",
    "objetivos": [
      "1.\tComprender de forma b√°sica qu√© hace un temporizador 555.",
      "2.\tAplicar el CI 555 en un circuito funcional con prop√≥sito espec√≠fico.",
      "3.\tUsar el circuito como herramienta para probar continuidad de cables.",
      "4.\tDesarrollar habilidades de diagn√≥stico a trav√©s del juego.",
      "Modalidad: Individual ‚Äì armado guiado con pruebas controladas."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Introducci√≥n te√≥rica:",
      "Se presenta el 555 como un ‚Äúcerebro electr√≥nico peque√±ito‚Äù que puede tomar decisiones. Se explica que hoy lo usaremos para construir una alarma que nos avisa si hay continuidad (como una versi√≥n casera de mult√≠metro).",
      "Se muestran im√°genes del 555, su s√≠mbolo y sus patas.",
      "‚Ä¢\t30 min ‚Äì Construcci√≥n del circuito:",
      "Paso a paso, cada estudiante arma el circuito con un temporizador 555, una resistencia, un LED o buzzer y cables.",
      "Al tocar dos extremos de cable conectados al circuito, el 555 activa la alarma (LED/buzzer) si hay continuidad.",
      "‚Ä¢\t15 min ‚Äì Pruebas y diagn√≥stico:",
      "Se entrega a los ni√±os varios cables (algunos con cortes internos) para probar si conducen o no. Deben usar su ‚Äúmult√≠metro casero‚Äù para descubrir cu√°les est√°n da√±ados.",
      "‚Ä¢\t15 min ‚Äì Decoraci√≥n creativa (opcional si hay tiempo):",
      "Se permite personalizar el ‚Äúmult√≠metro‚Äù con nombre, etiquetas o colores.",
      "‚Ä¢\t15 min ‚Äì Cierre:",
      "Preguntas de reflexi√≥n, socializaci√≥n de resultados y recordatorio de los usos del 555. Comparaci√≥n entre un mult√≠metro real y el construido."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øPara qu√© sirve el 555 en este circuito?",
      "‚Ä¢\t¬øQu√© ocurre cuando los cables est√°n conectados?",
      "‚Ä¢\t¬øC√≥mo sabemos si un cable funciona o est√° da√±ado?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øCu√°l es el s√≠mbolo del 555?",
      "‚Ä¢\t¬øQu√© pasa si el LED no enciende al juntar los cables?",
      "‚Ä¢\t¬øC√≥mo podr√≠amos usar este circuito en la vida real?"
    ],
    "guia": [
      "‚Ä¢\tUsar analog√≠as simples: el 555 como cerebro que ‚Äúdecide‚Äù si sonar o no.",
      "‚Ä¢\tPromover la curiosidad con preguntas mientras arman.",
      "‚Ä¢\tFomentar la exploraci√≥n con fallos intencionales (cables que no sirven).",
      "‚Ä¢\tHacer √©nfasis en el rol del 555 como parte l√≥gica del circuito."
    ],
    "conceptos": [
      "‚Ä¢\tCI 555: patas, s√≠mbolo y funci√≥n b√°sica como comparador/temporizador.",
      "‚Ä¢\tContinuidad: qu√© significa y c√≥mo se mide.",
      "‚Ä¢\tCircuito de prueba: qu√© es y c√≥mo usarlo como herramienta."
    ],
    "aplicacion": "‚Ä¢\tEste circuito simula c√≥mo los electricistas y t√©cnicos revisan si un cable est√° en buen estado.\n\t‚Ä¢\tPermite detectar errores sin verlos, como si tuvi√©ramos ‚Äúrayos X el√©ctricos‚Äù.",
    "herramientas": [
      "‚Ä¢\t1 x Bater√≠a de 9V",
      "‚Ä¢\t1 x Clip con terminales para bater√≠a de 9V",
      "‚Ä¢\t1 x CI 555",
      "‚Ä¢\t1 x Capacitor electrol√≠tico de 10 ¬µF",
      "‚Ä¢\t1 x Capacitor cer√°mico de 0.1 ¬µF",
      "‚Ä¢\t1 x Resistencia de 6.8 kŒ©",
      "‚Ä¢\t2 x Resistencias de 1 kŒ©",
      "‚Ä¢\t1 x LED (color a elecci√≥n)",
      "‚Ä¢\t1 x Pulsador (bot√≥n)",
      "‚Ä¢\t1 x Protoboard",
      "‚Ä¢\tCables jumper (varios)"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 5,
    "titulo": "Seguidor de Luz\n\"Introducci√≥n al proyecto\"",
    "resumen": "‚Ä¢ Cada grupo el kit de contrucci√≥n de lego de NovaRobot, donde deber√°n construir una caja con orificios (simulando sensores) y 2 alumnos juegan el rol de ‚Äúmotores‚Äù.\n\t‚Ä¢\tUn alumno externo ilumina con la linterna desde distintos √°ngulos.\n\t‚Ä¢\tSeg√∫n qu√© orificio reciba m√°s luz, los motores se mueven en esa direcci√≥n (ej. paso a la izquierda o derecha).",
    "objetivos": [
      "1. Comprender el proposito del proyecto.",
      "2. Inspirarse en dise√±os anteriores.",
      "3. Repasar conceptos clave previos.",
      "4. Entender c√≥mo reaccionan los sensores a la luz y c√≥mo eso controla el movimiento.",
      "Modalidad: explicaci√≥n guiada + juego an√°logo + primeras ideas de dise√±o"
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Introducci√≥n al proyecto:",
      "Se presenta el concepto de un seguidor de luz, explicando que construir√°n un robot que detecta y se mueve hacia la luz. Se muestra un video o maqueta simple para visualizar el objetivo final.",
      "‚Ä¢\t30 min ‚Äì Exploraci√≥n de conceptos previos para integraci√≥n",
      "Cada grupo recibe su kit de construcci√≥n LEGO. Se identifican las partes f√≠sicas del robot (ruedas, base, motores) y se hace el armado de la estructura.",
      "El docente gu√≠a paso a paso, asegurando que todos los grupos lleguen al mismo punto base.",
      "‚Ä¢\t30 min ‚Äì Relaci√≥n con el concepto de sensor de luz:",
      "Se plantea una actividad guiada para que los estudiantes exploren con una linterna c√≥mo responde una LDR (fotoresistencia).",
      "Se hacen preguntas como: ¬øqu√© pasa si la luz se tapa? ¬øqu√© ocurre con el voltaje?",
      "‚Ä¢\t15 min ‚Äì Cierre:",
      "Se conversa sobre lo construido, se refuerza el objetivo del proyecto y se genera expectativa sobre c√≥mo el robot tomar√° decisiones con la luz en la pr√≥xima clase."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øQu√© parte del robot reacciona a la luz?",
      "‚Ä¢\t¬øPor qu√© necesita dos ‚Äúojos‚Äù?",
      "‚Ä¢\t¬øQu√© har√≠as para que el robot gire?",
      "‚Ä¢\t¬øD√≥nde pondr√≠as los sensores?",
      "‚Ä¢\t¬øCrees que puede hacer sonidos tambi√©n?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øComprendo qu√© es un seguidor de luz?",
      "‚Ä¢\t¬øPuedo identificar qu√© componentes puede tener un robot as√≠?",
      "‚Ä¢\t¬øEstoy motivado para trabajar en mi propio dise√±o?",
      "‚Ä¢\t¬øPuedo relacionar sensores y movimiento?"
    ],
    "guia": [
      "‚Ä¢\tUsar la imaginaci√≥n y el juego como puerta de entrada al proyecto.",
      "‚Ä¢\tPermitir que los ni√±os se expresen a trav√©s del dibujo y el movimiento.",
      "‚Ä¢\tIncentivar la curiosidad sobre c√≥mo algo ‚Äútan invisible como la luz‚Äù puede mover un motor.",
      "‚Ä¢\tFomentar el trabajo en equipo durante el ejercicio grupal.",
      "‚Ä¢\tEnfatizar que este proyecto es una creaci√≥n personal."
    ],
    "conceptos": [
      "‚Ä¢\tLuz como se√±al (estimulaci√≥n de sensores).",
      "‚Ä¢\tSensor LDR: detecta variaci√≥n de luz ‚Üí cambia resistencia.",
      "‚Ä¢\tMotores como actuadores (reaccionan a se√±ales).",
      "‚Ä¢\tDise√±o preliminar y pensamiento de ingenier√≠a."
    ],
    "aplicacion": "‚Ä¢ El robot que estamos empezando a construir tomar√° decisiones seg√∫n la luz que reciba. Del mismo modo, nosotros enfrentamos situaciones donde debemos elegir qu√© camino seguir.\n‚Ä¢ As√≠ como el robot necesita ‚Äúver‚Äù bien para actuar correctamente, nosotros tambi√©n necesitamos estar atentos, reflexionar y elegir lo mejor en cada momento.\n‚Ä¢ Este proyecto nos ense√±a que, al igual que las m√°quinas, nuestras decisiones tienen consecuencias, y debemos aprender a responder con inteligencia y responsabilidad ante lo que nos rodea.",
    "herramientas": [
      "nan"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 6,
    "titulo": "Seguidor de Luz\n\"Manipulaci√≥n de la Fotoresistencia\"",
    "resumen": "‚Ä¢Los estudiantes arman un circuito con una LDR + resistencia fija + potenci√≥metro en serie.\n\t‚Ä¢\tConectan el mult√≠metro en paralelo a la LDR para ver el cambio de voltaje al taparla o iluminarla.\n\t‚Ä¢\tObservan c√≥mo el potenci√≥metro cambia la sensibilidad del sensor.",
    "objetivos": [
      "1.Aprender a leer la variaci√≥n de luz con LDR usando el mult√≠metro.",
      "2. Controlar la sensibilidad con un potenci√≥metro.",
      "Modalidad: repaso pr√°ctico + medici√≥n + circuito b√°sico en protoboard."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Introducci√≥n te√≥rica interactiva:",
      "Se explica qu√© es una fotoresistencia (LDR) y un potenci√≥metro, y c√≥mo cambian su valor cuando se les aplica luz o se giran.",
      "Se comparan con elementos cotidianos: el potenci√≥metro como una llave de volumen, la LDR como los lentes de sol que se oscurecen.",
      "‚Ä¢\t25 min ‚Äì Experimento con mult√≠metro:",
      "Cada ni√±o mide la resistencia de una LDR y de un potenci√≥metro.",
      "Se les gu√≠a para ver c√≥mo var√≠a la resistencia al tapar con la mano o girar la perilla.",
      "Se anotan los resultados y se pregunta: ¬øcu√°l es m√°s sensible? ¬øcu√°l da un rango m√°s amplio?",
      "‚Ä¢\t30 min ‚Äì Introducci√≥n al divisor de voltaje (exploratorio):",
      "Se arma un peque√±o circuito con una LDR y una resistencia fija, y se mide el voltaje entre el punto medio y GND.",
      "Luego se prueba el mismo montaje con un potenci√≥metro en lugar de la resistencia fija.",
      "Se compara c√≥mo se puede ‚Äúcalibrar‚Äù el comportamiento.",
      "No se conecta a ning√∫n otro componente. Solo se observa el efecto.",
      "‚Ä¢\t10 min ‚Äì Registro y reflexi√≥n:",
      "Se invita a los estudiantes a anotar sus observaciones y responder:",
      "¬øQu√© hace que el voltaje suba o baje? ¬øQu√© pasar√≠a si usamos ambos sensores?",
      "‚Ä¢\t15 min ‚Äì Cierre: Se conversa en grupo:",
      "‚Äì ¬øPara qu√© podr√≠a usar un robot esa informaci√≥n?",
      "‚Äì ¬øQu√© pasar√≠a si tiene un sensor de cada lado?"
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øQu√© pasa con el voltaje cuando le tapas la LDR?",
      "‚Ä¢\t¬øC√≥mo afecta el potenci√≥metro al comportamiento del sensor?",
      "‚Ä¢\t¬øD√≥nde pondr√≠as la LDR en el robot?",
      "‚Ä¢\t¬øC√≥mo sabes si est√° recibiendo m√°s o menos luz?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øPuedo armar un circuito con LDR y potenci√≥metro para leer luz?",
      "‚Ä¢\t¬øPuedo medir correctamente la se√±al con un mult√≠metro?",
      "‚Ä¢\t¬øPuedo ajustar la sensibilidad del sensor?",
      "‚Ä¢\t¬øComprendo c√≥mo esa se√±al puede activar una acci√≥n m√°s adelante?"
    ],
    "guia": [
      "‚Ä¢\tUsar la experiencia previa para avanzar r√°pidamente hacia la medici√≥n.",
      "‚Ä¢\tIncentivar la precisi√≥n y la observaci√≥n a trav√©s del mult√≠metro.",
      "‚Ä¢\tMostrar con ejemplos reales c√≥mo funcionan sensores similares (cortinas autom√°ticas, alumbrado p√∫blico).",
      "‚Ä¢\tTrabajar en duplas o tr√≠os para asegurar apoyo entre compa√±eros.",
      "‚Ä¢\tFomentar la exploraci√≥n libre con luz, sombra, objetos, para generar curiosidad."
    ],
    "conceptos": [
      "‚Ä¢\tDivisor de voltaje con LDR.",
      "‚Ä¢\tSensado anal√≥gico: c√≥mo una cantidad de luz se convierte en voltaje.",
      "‚Ä¢\tUso del potenci√≥metro como control de sensibilidad.",
      "‚Ä¢\tLectura de voltaje con mult√≠metro.",
      "‚Ä¢\tRelaci√≥n entre luz ‚Üí voltaje ‚Üí decisi√≥n electr√≥nica."
    ],
    "aplicacion": "‚Ä¢ As√≠ como la fotoresistencia responde a la cantidad de luz, nosotros tambi√©n debemos aprender a adaptarnos a las situaciones que nos rodean.\n‚Ä¢ Hay momentos donde necesitamos ‚Äúver‚Äù con m√°s claridad para tomar mejores decisiones, igual que un sensor necesita recibir bien la luz para funcionar correctamente.\n‚Ä¢ Tambi√©n como el potenci√≥metro nos permite ajustar y calibrar el circuito, nosotros tambi√©n necesitamos aprender a regular nuestras emociones, reacciones y decisiones en diferentes circunstancias.\n‚Ä¢ Esta clase nos ense√±a que incluso una peque√±a variaci√≥n puede cambiar todo un resultado‚Ä¶ igual que nuestras acciones en la vida diaria.",
    "herramientas": [
      "‚Ä¢\t1 x Fotoresistencia (LDR)",
      "‚Ä¢\t1 x Potenci√≥metro",
      "‚Ä¢\t1 x Resistencia fija (10kŒ© sugerido)",
      "‚Ä¢\t1 x Protoboard",
      "‚Ä¢\t1 x Mult√≠metro (puede ser compartido)",
      "‚Ä¢\t1 x Fuente de alimentaci√≥n (5V a 9V)",
      "‚Ä¢\tCables de conexi√≥n (jumper macho-macho)"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 7,
    "titulo": "Seguidor de Luz",
    "resumen": "Taller pr√°ctico: ‚Äú¬°Reacciona a la luz!‚Äù\n\n‚Ä¢ Los estudiantes construir√°n un circuito usando una LDR,  Potenciometro, Transistor 2N3904 - 2N3906 y motor.\n‚Ä¢ El objetivo ser√° lograr que el LED o el motor se activen cuando la LDR reciba suficiente luz.\n‚Ä¢ Cada estudiante calibrar√° su potenci√≥metro para decidir cu√°nta luz necesita el sistema para reaccionar.",
    "objetivos": [
      "1.\tComprender c√≥mo un transistor NPN (2N3904) puede controlar un motor.",
      "2.\tEntender el concepto de se√±al d√©bil (sensor) controlando una carga fuerte (motor).",
      "3.\tIntegrar la LDR como sensor de luz en un divisor de voltaje.",
      "4.\tObservar c√≥mo la luz activa o desactiva un motor.",
      "üìçModalidad: Individual ‚Äì montaje guiado."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Recordatorio y repaso:",
      "Se recuerdan los conceptos vistos en clases anteriores: LDR, potenci√≥metro, divisor de voltaje, 555.",
      "Se muestra un ejemplo de c√≥mo el voltaje de un divisor puede activar un LED a trav√©s del 555.",
      "‚Ä¢\t30 min ‚Äì Construcci√≥n del circuito 555 + LDR:",
      "Se gu√≠a paso a paso a los estudiantes para construir un circuito donde:",
      "‚Ä¢ La LDR reaccione a la luz.",
      "‚Ä¢ El voltaje del divisor (LDR + potenci√≥metro o resistencia fija) se conecte al pin 2 del 555.",
      "‚Ä¢ El pin 3 del 555 encienda un LED o motor cuando hay suficiente luz.",
      "‚Ä¢\t30 min ‚Äì Calibraci√≥n y pruebas:",
      "Se les da tiempo para probar con diferentes niveles de luz y ajustar el potenci√≥metro.",
      "Se plantea el reto: ‚Äú¬øpuedes hacer que el LED se encienda solo cuando apuntas la linterna desde un lado?‚Äù",
      "‚Ä¢\t15 min ‚Äì Cierre:",
      "Reflexi√≥n sobre lo aprendido. ¬øQu√© hizo el 555? ¬øQu√© papel jugaron la LDR y el potenci√≥metro?",
      "Se relaciona con el futuro: ‚ÄúAs√≠ es como tu robot sabr√° cu√°ndo moverse hacia la luz‚Äù."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øQu√© ocurre cuando la luz incide sobre la LDR?",
      "‚Ä¢\t¬øC√≥mo se puede ajustar la sensibilidad del sistema?",
      "‚Ä¢\t¬øQu√© funci√≥n cumple el CI 555 en este circuito?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øC√≥mo var√≠a el voltaje del divisor cuando cambia la luz?",
      "‚Ä¢\t¬øPor qu√© el potenci√≥metro ayuda a calibrar el circuito?",
      "‚Ä¢\t¬øQu√© pasar√≠a si conect√°ramos dos sensores de luz?"
    ],
    "guia": [
      "‚Ä¢\tUtilizar ejemplos cotidianos: la luz que activa l√°mparas autom√°ticas, paneles solares que siguen el sol.",
      "‚Ä¢\tIncentivar la exploraci√≥n mediante preguntas orientadoras durante la calibraci√≥n.",
      "‚Ä¢\tPermitir que los ni√±os ajusten libremente el potenci√≥metro para experimentar diferentes configuraciones.",
      "‚Ä¢\tPromover el error como herramienta de aprendizaje (‚Äù¬øQu√© podemos cambiar si no funciona como queremos?‚Äù)."
    ],
    "conceptos": [
      "‚Ä¢\tDivisor de voltaje: combinaci√≥n de resistencias que genera un voltaje de salida dependiente de las condiciones.",
      "‚Ä¢\tSensor LDR: resistencia que cambia su valor dependiendo de la luz recibida.",
      "‚Ä¢\tCI 555: chip que interpreta se√±ales y genera una respuesta de salida l√≥gica.",
      "‚Ä¢\tCalibraci√≥n: proceso de ajuste fino de un circuito para que reaccione como deseamos."
    ],
    "aplicacion": "‚Ä¢ As√≠ como en el circuito la LDR detecta cambios de luz para tomar una decisi√≥n (encender o apagar un motor o LED), en la vida real debemos aprender a detectar se√±ales del entorno y actuar de manera adecuada.\n‚Ä¢ La calibraci√≥n del potenci√≥metro nos recuerda que no siempre todo est√° ‚Äúlisto‚Äù, y a veces necesitamos ajustar y mejorar nuestras acciones para lograr el mejor resultado.",
    "herramientas": [
      "‚Ä¢\t1 x CI 555",
      "‚Ä¢\t1 x LDR (fotoresistencia)",
      "‚Ä¢\t1 x Potenci√≥metro (10kŒ© sugerido)",
      "‚Ä¢\t1 x Resistencia fija (1kŒ©, para LED si se usa)",
      "‚Ä¢\t1 x LED o Motor DC peque√±o",
      "‚Ä¢\t1 x Bater√≠a de 9V y clip de conexi√≥n",
      "‚Ä¢\t1 x Protoboard",
      "‚Ä¢\tCables jumper"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 8,
    "titulo": "Seguidor de Luz",
    "resumen": "Taller pr√°ctico: ‚Äú¬øDe d√≥nde viene la luz?‚Äù\n\n‚Ä¢ Los estudiantes integrar√°n dos sensores LDR, cada uno conectado a su propio divisor de voltaje y 555, que activan dos motores independientes.\n‚Ä¢ El objetivo ser√° lograr que el robot ‚Äúgire‚Äù hacia la fuente de luz m√°s intensa.",
    "objetivos": [
      "1.\tIntegrar dos sensores de luz con dos circuitos 555 independientes.",
      "2.\tComprender c√≥mo se puede generar un comportamiento ‚Äúinteligente‚Äù mediante comparaci√≥n.",
      "3.\tCalibrar el sistema para que reaccione adecuadamente a distintos est√≠mulos.",
      "üìçModalidad: Individual ‚Äì montaje guiado con ensayo de condiciones."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Introducci√≥n guiada:",
      "Se explica que para que un robot siga la luz, debe comparar dos entradas (una a la izquierda y otra a la derecha).",
      "Se presenta el reto: construir un sistema de dos ‚Äúojos‚Äù que tomen decisiones por separado.",
      "‚Ä¢\t30 min ‚Äì Montaje del circuito doble:",
      "Cada LDR se conecta a su propio divisor de voltaje ‚Üí pin 2 del 555.",
      "La salida de cada 555 (pin 3) activa un motor distinto (motor izquierdo y motor derecho).",
      "‚Ä¢\t30 min ‚Äì Pruebas con linterna:",
      "Se prueba alumbrar uno u otro lado del robot y se observa c√≥mo gira en direcci√≥n a la luz.",
      "Se calibran los potenci√≥metros para que ambos lados respondan de forma equilibrada.",
      "‚Ä¢\t15 min ‚Äì Cierre:",
      "Se reflexiona: ¬øqu√© har√≠a el robot si hay luz a ambos lados? ¬øy si no hay luz?",
      "Se deja preparado para a√±adir estructura f√≠sica en la pr√≥xima clase."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øC√≥mo sabe el robot hacia d√≥nde girar?",
      "‚Ä¢\t¬øQu√© funci√≥n cumple cada LDR en el comportamiento del robot?",
      "‚Ä¢\t¬øC√≥mo afecta la calibraci√≥n de los potenci√≥metros al resultado?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øQu√© pasar√≠a si un sensor recibe m√°s luz que el otro?",
      "‚Ä¢\t¬øQu√© motor se enciende si ambos sensores reciben la misma luz?",
      "‚Ä¢\t¬øC√≥mo podr√≠as hacer que tu robot solo avance si hay mucha luz?"
    ],
    "guia": [
      "‚Ä¢\tUsar analog√≠a de ‚Äúojos‚Äù del robot: cada sensor act√∫a como un ojo que controla una rueda.",
      "‚Ä¢\tIncentivar ensayo y error con preguntas: ‚Äú¬øqu√© pasa si tapo uno?‚Äù, ‚Äú¬øy si los cambio de lado?‚Äù",
      "‚Ä¢\tMotivar la competencia amistosa: ‚Äú¬øCu√°l robot gira m√°s r√°pido hacia la luz?‚Äù"
    ],
    "conceptos": [
      "‚Ä¢\tComparaci√≥n sensorial: decidir con base en dos se√±ales.",
      "‚Ä¢\tComportamiento condicional: si pasa esto, haz esto otro.",
      "‚Ä¢\tControl de motores por salida l√≥gica: c√≥mo el 555 gobierna un actuador."
    ],
    "aplicacion": "‚Ä¢ As√≠ como el robot toma decisiones al comparar informaci√≥n de dos sensores, nosotros tambi√©n debemos evaluar distintas opciones antes de actuar.\n‚Ä¢ Esta clase ense√±a que no siempre hay una √∫nica respuesta y que saber comparar con criterio nos ayuda a elegir mejor.",
    "herramientas": [
      "‚Ä¢\t2 x CI 555",
      "‚Ä¢\t2 x LDR",
      "‚Ä¢\t2 x Potenci√≥metros",
      "‚Ä¢\t2 x Resistencias (1kŒ© para LEDs o base de transistores)",
      "‚Ä¢\t2 x Transistores NPN (opcional, si los motores lo requieren)",
      "‚Ä¢\t2 x Motores DC",
      "‚Ä¢\t2 x Diodos 1N4007 (protecci√≥n de motores)",
      "‚Ä¢\t1 x Protoboard grande o 2 medianas",
      "‚Ä¢\tBater√≠a de 9V + clip",
      "‚Ä¢\tCables jumper"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 9,
    "titulo": "Seguidor de Luz",
    "resumen": "‚Ä¢ Cada estudiante montar√° su circuito completamente funcional sobre el chasis del robot.\n‚Ä¢ El objetivo ser√° lograr que el robot gire o avance hacia la luz real usando sus dos ‚Äúojos‚Äù (LDRs) y motores.\n‚Ä¢ Se validar√° que el sistema funcione como se plane√≥ y se ajustar√°n detalles f√≠sicos.",
    "objetivos": [
      "1.\tIntegrar todos los componentes f√≠sicos y electr√≥nicos sobre la estructura del robot.",
      "2.\tValidar el funcionamiento completo del seguidor de luz en condiciones reales.",
      "3.\tFortalecer habilidades de montaje, fijaci√≥n y soluci√≥n de problemas f√≠sicos.",
      "üìçModalidad: Individual ‚Äì armado con acompa√±amiento t√©cnico."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Preparaci√≥n del chasis:",
      "Cada estudiante revisa que su base est√© bien ensamblada: ruedas firmes, soporte para la bater√≠a, cables bien ubicados.",
      "‚Ä¢\t30 min ‚Äì Montaje del circuito en el chasis:",
      "Se fijan los componentes al chasis:",
      "‚Ä¢ Motores conectados y firmes",
      "‚Ä¢ LDRs colocadas al frente, como ‚Äúojos‚Äù del robot",
      "‚Ä¢ Bater√≠a bien sujeta",
      "‚Ä¢ Protoboard fija o aislada con cinta",
      "‚Ä¢\t30 min ‚Äì Pruebas de movimiento:",
      "Se prueba el funcionamiento completo:",
      "‚Ä¢ ¬øEl robot reacciona correctamente a la luz?",
      "‚Ä¢ ¬øGira hacia la linterna?",
      "‚Ä¢ ¬øSe mueve de forma equilibrada?",
      "Se hacen ajustes en la posici√≥n de los sensores y se recalibran potenci√≥metros si es necesario.",
      "‚Ä¢\t15 min ‚Äì Cierre:",
      "Reflexi√≥n: ¬øya parece un robot que toma decisiones? ¬øqu√© falta por mejorar?",
      "Se documentan errores comunes y se resuelven con ayuda."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øEst√° bien posicionada cada parte del robot?",
      "‚Ä¢\t¬øQu√© ajustes debo hacer para que funcione mejor?",
      "‚Ä¢\t¬øMi robot cumple con la funci√≥n de seguir la luz?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øQu√© pasa si la LDR est√° muy alta o muy baja?",
      "‚Ä¢\t¬øC√≥mo afecta que un motor est√© mal fijado?",
      "‚Ä¢\t¬øQu√© har√≠as si solo un motor gira al recibir luz?"
    ],
    "guia": [
      "‚Ä¢\tSupervisar que cada estudiante tenga la estructura completa antes de empezar.",
      "‚Ä¢\tFomentar trabajo paciente: montaje ordenado, pruebas paso a paso.",
      "‚Ä¢\tReforzar el aprendizaje desde el error: si algo falla, ¬°se aprende m√°s!",
      "‚Ä¢\tIncentivar apoyo entre compa√±eros: ‚Äúay√∫dame a fijar este motor‚Äù, ‚Äú¬øc√≥mo conectaste el tuyo?‚Äù"
    ],
    "conceptos": [
      "‚Ä¢\tIntegraci√≥n f√≠sica y electr√≥nica: unir el circuito al entorno mec√°nico.",
      "‚Ä¢\tValidaci√≥n funcional: probar si el sistema hace lo que debe hacer.",
      "‚Ä¢\tCalibraci√≥n sensorial real: ajustar LDRs en funci√≥n del entorno."
    ],
    "aplicacion": "‚Ä¢ En la vida, como en este proyecto, no basta con que las partes funcionen por separado: hay que unirlas bien para que el todo funcione.\n‚Ä¢ Montar el robot nos ense√±a que incluso las mejores ideas necesitan buena ejecuci√≥n para moverse hacia sus objetivos.",
    "herramientas": [
      "(Son los mismos de la clase anterior, ahora fijados al chasis)",
      "‚Ä¢\t2 x CI 555",
      "‚Ä¢\t2 x LDR",
      "‚Ä¢\t2 x Potenci√≥metros",
      "‚Ä¢\t2 x Resistencias",
      "‚Ä¢\t2 x Transistores NPN (opcional)",
      "‚Ä¢\t2 x Motores DC mas sus ruedas",
      "‚Ä¢\t2 x Diodos",
      "‚Ä¢\t1 x Protoboard",
      "‚Ä¢\t1 x Chasis",
      "‚Ä¢\t2 x Ruedas",
      "‚Ä¢\t1 x Porta bater√≠as (o bater√≠a de 9V + clip)",
      "‚Ä¢\tCables jumper",
      "‚Ä¢\tCinta doble faz / bridas / silicona (para fijaci√≥n)"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 10,
    "titulo": "Seguidor de Luz",
    "resumen": "Taller pr√°ctico: ‚ÄúLuces de decisi√≥n‚Äù\n\n‚Ä¢ Cada estudiante a√±adir√° dos LEDs indicadores a su robot: uno para motor izquierdo y otro para motor derecho.\n‚Ä¢ El objetivo ser√° que cuando un motor se active, el LED correspondiente tambi√©n lo haga, mostrando hacia qu√© lado se est√° moviendo el robot.",
    "objetivos": [
      "1.\tIntegrar LEDs como salida l√≥gica paralela para visualizar el comportamiento del robot.",
      "2.\tComprender la funci√≥n del pin 3 del 555 como controlador de m√∫ltiples elementos.",
      "3.\tValidar el funcionamiento l√≥gico del sistema sin necesidad de que el robot se mueva.",
      "üìçModalidad: Individual ‚Äì integraci√≥n final."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Introducci√≥n pr√°ctica:",
      "Se plantea la pregunta: ‚Äú¬øC√≥mo podemos saber qu√© decisi√≥n tom√≥ el robot sin necesidad de verlo moverse?‚Äù",
      "Se explica que agregar LEDs conectados a los pines de salida del 555 nos permitir√° ver esa decisi√≥n en tiempo real.",
      "‚Ä¢\t30 min ‚Äì Montaje de LEDs indicadores:",
      "Cada pin 3 del CI 555 se conecta a un LED en paralelo con el transistor/motor.",
      "Se utiliza una resistencia limitadora (330Œ©‚Äì1kŒ©) para cada LED.",
      "Los LEDs se colocan al frente del robot, en los laterales, como ‚Äúojos de direcci√≥n‚Äù.",
      "‚Ä¢\t30 min ‚Äì Pruebas de comportamiento con luz:",
      "Se prueba alumbrar con una linterna desde diferentes lados.",
      "Se observa c√≥mo se activa un LED u otro, seg√∫n qu√© sensor capta m√°s luz.",
      "Se puede mover el robot o dejarlo quieto para solo observar el comportamiento l√≥gico.",
      "‚Ä¢\t15 min ‚Äì Cierre reflexivo:",
      "¬øQu√© ventajas tiene ver lo que piensa el robot?",
      "¬øC√≥mo podr√≠amos usar estos indicadores para mejorar el dise√±o o entender fallos?"
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øC√≥mo s√© hacia qu√© lado quiere girar mi robot?",
      "‚Ä¢\t¬øQu√© hace el pin 3 del 555?",
      "‚Ä¢\t¬øPor qu√© es √∫til agregar un indicador visual?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øQu√© ocurre si se encienden ambos LEDs?",
      "‚Ä¢\t¬øQu√© podr√≠a indicar que un LED no prende nunca?",
      "‚Ä¢\t¬øQu√© ventajas tiene ver lo que el circuito est√° haciendo por dentro?"
    ],
    "guia": [
      "‚Ä¢\tExplicar con ejemplos reales: luces direccionales de carros, luces de error en aparatos.",
      "‚Ä¢\tUsar colores diferentes para los LEDs (rojo y verde, por ejemplo).",
      "‚Ä¢\tMotivar a los ni√±os a ubicar bien sus LEDs para que luzcan como parte del robot."
    ],
    "conceptos": [
      "‚Ä¢\tSalida l√≥gica paralela: un pin puede controlar varias cosas a la vez.",
      "‚Ä¢\tIndicador visual: se√±al que representa lo que ocurre internamente.",
      "‚Ä¢\tRetroalimentaci√≥n instant√°nea: poder ver lo que pasa facilita el diagn√≥stico."
    ],
    "aplicacion": "‚Ä¢ En la vida, igual que en los robots, a veces necesitamos se√±ales que nos ayuden a entender qu√© est√° pasando internamente.\n‚Ä¢ Aprender a ‚Äúleer‚Äù esas se√±ales nos permite tomar mejores decisiones y tambi√©n ayudar a otros cuando algo va mal.",
    "herramientas": [
      "‚Ä¢\t2 x LEDs (preferiblemente colores distintos)",
      "‚Ä¢\t2 x Resistencias (330Œ© a 1kŒ©)",
      "‚Ä¢\tCables jumper",
      "‚Ä¢\tCinta doble faz o soporte para fijar LEDs al robot",
      "‚Ä¢\tRobot ensamblado de clase anterior"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 11,
    "titulo": "Seguidor de Luz",
    "resumen": "Reto final: ‚Äú¬°Sigue la luz y conquista el circuito!‚Äù\n\n‚Ä¢ Cada estudiante participar√° en una prueba tipo carrera/laberinto.\n‚Ä¢ El robot deber√° seguir una linterna o avanzar en un trayecto guiado por luz.\n‚Ä¢ El foco ser√° demostrar la l√≥gica de movimiento y reacci√≥n a la luz.",
    "objetivos": [
      "1.\tValidar el funcionamiento completo del robot seguidor de luz en un entorno real.",
      "2.\tAfianzar la seguridad t√©cnica y emocional del estudiante frente a su proyecto.",
      "3.\tPrepararse para una presentaci√≥n estructurada y orgullosa del resultado.",
      "üìçModalidad: Individual y grupal ‚Äì ensayo y juego colaborativo."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Preparaci√≥n del entorno de prueba:",
      "Se organiza el espacio f√≠sico con una pista de cart√≥n, obst√°culos de papel, curvas marcadas o t√∫neles.",
      "Se ubican linternas fijas o m√≥viles seg√∫n el reto.",
      "‚Ä¢\t30 min ‚Äì Ensayo libre de cada robot:",
      "Cada estudiante realiza una ronda de prueba individual.",
      "Observa qu√© puede mejorar (posici√≥n de sensores, velocidad, calibraci√≥n, cableado).",
      "Se permite hacer ajustes r√°pidos, apoyados por el docente.",
      "‚Ä¢\t30 min ‚Äì Carrera simb√≥lica o reto por equipos:",
      "Puede ser una de estas opciones:",
      "‚Ä¢\tCarrera de precisi√≥n (no de velocidad): el que llegue m√°s lejos siguiendo la luz.",
      "‚Ä¢\tReto por obst√°culos: linterna fija al final de un pasillo.",
      "‚Ä¢\tDemostraci√≥n libre ante el grupo: ‚ÄúAs√≠ se comporta mi robot‚Äù.",
      "‚Ä¢\t15 min ‚Äì Cierre:",
      "Reflexi√≥n y retroalimentaci√≥n general.",
      "Cada estudiante responde en voz alta o en ficha:",
      "‚Äì ¬øQu√© aprend√≠ en todo este proceso?",
      "‚Äì ¬øQu√© me gustar√≠a mostrar a mi familia en la pr√≥xima clase?"
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øQu√© parte del robot funcion√≥ mejor? ¬øCu√°l necesito ajustar?",
      "‚Ä¢\t¬øQu√© aprend√≠ del comportamiento de mi robot al enfrentarse al circuito?",
      "‚Ä¢\t¬øEstoy listo para mostrar mi trabajo a otras personas?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øQu√© pasa si hay demasiada o muy poca luz?",
      "‚Ä¢\t¬øQu√© parte del dise√±o podr√≠a mejorar para la pr√≥xima versi√≥n?",
      "‚Ä¢\t¬øQu√© aprend√≠ de ver los robots de mis compa√±eros?"
    ],
    "guia": [
      "‚Ä¢\tConvertir la clase en un evento motivador y divertido.",
      "‚Ä¢\tDar tiempo a cada estudiante para brillar, incluso si el robot no funciona perfecto.",
      "‚Ä¢\tPromover el respeto y la celebraci√≥n de los logros de todos.",
      "‚Ä¢\tDocumentar el proceso con fotos o video si es posible."
    ],
    "conceptos": [
      "‚Ä¢\tIteraci√≥n final: √∫ltima versi√≥n funcional antes de mostrar un producto.",
      "‚Ä¢\tValidaci√≥n externa: probar que algo funcione ante otros.",
      "‚Ä¢\tReflexi√≥n pr√°ctica: aprender a reconocer fortalezas y oportunidades de mejora."
    ],
    "aplicacion": "‚Ä¢ Esta clase ense√±a que los proyectos no se quedan solo en teor√≠a, sino que se prueban, se muestran y se celebran.\n‚Ä¢ Tambi√©n nos muestra que el esfuerzo, la paciencia y la colaboraci√≥n tienen un resultado tangible.",
    "herramientas": [
      "‚Ä¢\tRobot completo con todos sus sistemas (motores, sensores, LEDs, estructura).",
      "‚Ä¢\tPista de cart√≥n o papel (recta, curva, laberinto, etc.)",
      "‚Ä¢\tLinternas fijas o m√≥viles",
      "‚Ä¢\tMaterial para ajustes finales (cinta, cables, pinzas, bater√≠a extra)",
      "‚Ä¢\tCron√≥metro o medidor simb√≥lico (si haces competencia)",
      "‚Ä¢\tFicha de reflexi√≥n escrita"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  },
  {
    "n": 12,
    "titulo": "Seguidor de Luz\nPresentaci√≥n padres",
    "resumen": "Demostraci√≥n: \n\n‚Ä¢ Cada estudiante presentar√° su robot seguidor de luz frente a padres, familiares.\n‚Ä¢ Explicar√° con sus palabras qu√© hace su robot y c√≥mo funciona.\n‚Ä¢ Har√° una demostraci√≥n real en la pista de prueba.",
    "objetivos": [
      "1.\tFomentar la expresi√≥n oral y la seguridad en s√≠ mismos a trav√©s de la presentaci√≥n de su trabajo.",
      "2.\tMostrar el funcionamiento del robot frente a una audiencia.",
      "3.\tCelebrar el proceso de aprendizaje t√©cnico y emocional recorrido.",
      "üìçModalidad: Individual ‚Äì presentaci√≥n p√∫blica guiada."
    ],
    "desarrollo": [
      "‚Ä¢\t15 min ‚Äì Preparaci√≥n del espacio:",
      "Se organiza un espacio con mesas, pista de prueba, decoraci√≥n sencilla y espacio para p√∫blico.",
      "Se da a cada estudiante una cartulina o ficha con su nombre y el nombre de su robot (si tiene).",
      "‚Ä¢\t30 min ‚Äì Ensayo individual con acompa√±amiento docente:",
      "Cada ni√±o practica c√≥mo va a explicar su proyecto:",
      "‚Äì ‚ÄúEste es mi robot‚Äù",
      "‚Äì ‚ÄúTiene dos ojos que detectan luz‚Äù",
      "‚Äì ‚ÄúCuando ve m√°s luz a un lado, gira hacia all√°‚Äù",
      "‚Äì ‚ÄúEsto lo aprend√≠ con el 555, LDR y potenci√≥metros‚Äù",
      "‚Ä¢\t30 min ‚Äì Presentaci√≥n en vivo:",
      "Uno por uno, los estudiantes presentan su robot al p√∫blico, lo prueban en la pista, y reciben aplausos y preguntas.",
      "Se les puede dar un diploma, sticker o medalla simb√≥lica al terminar.",
      "‚Ä¢\t15 min ‚Äì Cierre y despedida:",
      "Palabras del docente agradeciendo el esfuerzo.",
      "Entrega de reconocimientos.",
      "Espacio para fotos y felicitaciones.",
      "Opcional: compartir breve refrigerio o recuerdo f√≠sico."
    ],
    "preguntasObjetivo": [
      "‚Ä¢\t¬øPuedo explicar qu√© hace mi robot con mis propias palabras?",
      "‚Ä¢\t¬øC√≥mo me siento al mostrar lo que constru√≠?",
      "‚Ä¢\t¬øQu√© fue lo que m√°s me gust√≥ de este proyecto?"
    ],
    "preguntasPropuestas": [
      "‚Ä¢\t¬øQu√© fue lo m√°s dif√≠cil de construir? ¬øY lo m√°s divertido?",
      "‚Ä¢\t¬øA qui√©n le dedicar√≠as este logro?",
      "‚Ä¢\t¬øQu√© robot de tus compa√±eros te gust√≥ m√°s y por qu√©?"
    ],
    "guia": [
      "‚Ä¢\tPreparar a los estudiantes emocionalmente para presentarse en p√∫blico.",
      "‚Ä¢\tEnfatizar que no importa si el robot no funciona perfecto: lo valioso es el proceso.",
      "‚Ä¢\tValidar cada esfuerzo con palabras positivas y reconocimientos visibles.",
      "‚Ä¢\tFacilitar que los padres hagan preguntas sencillas y afectuosas."
    ],
    "conceptos": [
      "‚Ä¢\tComunicaci√≥n t√©cnica: explicar lo aprendido de manera clara.",
      "‚Ä¢\tAutoexpresi√≥n: hablar desde la experiencia.",
      "‚Ä¢\tValor del proceso: m√°s all√° del resultado, importa el camino recorrido."
    ],
    "aplicacion": "‚Ä¢ En la vida, como en esta clase, mostrar lo que hacemos con nuestras manos y coraz√≥n nos llena de orgullo.\n‚Ä¢ Aprender a hablar de nuestro trabajo y compartirlo nos hace crecer y conectar con los dem√°s.",
    "herramientas": [
      "nan"
    ],
    "tinkercad": "",
    "adjuntos": [
      "nan"
    ]
  }
];


    // ================== Render UI ==================
    const nav = document.getElementById('classNav');
    const grid = document.getElementById('cards');
    const headerTitle = document.getElementById('headerTitle');

    function classSlug(n){ return `clase-${n}` }
    function imgPath(kind, n){ return `img/${kind}${n}.png` }

    function renderNav(items){
      nav.innerHTML = items.map(({n, titulo}) => `
        <a href="#${classSlug(n)}" data-n="${n}">
          <span class="dot"></span>
          <span>Clase ${n}: ${titulo}</span>
        </a>`).join('');
    }

    function sectionList(items){
      return items && items.length ? `<ul>${items.map(i=>`<li>${i}</li>`).join('')}</ul>` : '<p style="color:#7b8a97">‚Äî</p>'
    }

    function renderCards(items){
      grid.innerHTML = items.map(c=>{
        const n=c.n;
        return `
        <article class="card" id="${classSlug(n)}">
          <header>
            <div class="title">
              <h3>Clase ${n}: ${c.titulo}</h3>
              <div class="meta">Duraci√≥n: 90 minutos ¬∑ Nivel: Inicial</div>
            </div>
          </header>
          <div class="content">
            <div class="kpis" aria-label="Objetivos">
              ${c.objetivos.map(o=>`<span class="kpi">${o}</span>`).join('')}
            </div>
            <p>${c.resumen}</p>

            <div class="imgs">
              <figure>
                <img src="${imgPath('diagrama', n)}" alt="Diagrama clase ${n}" onerror="this.style.opacity=.3; this.alt='(Agrega img/diagrama${n}.png)';"/>
                <figcaption>Diagrama</figcaption>
              </figure>
              <figure>
                <img src="${imgPath('circuito', n)}" alt="Circuito clase ${n}" onerror="this.style.opacity=.3; this.alt='(Agrega img/circuito${n}.png)';"/>
                <figcaption>Circuito</figcaption>
              </figure>
            </div>

            <div class="cta">
              ${c.tinkercad ? `<a class="btn small teal" href="${c.tinkercad}" target="_blank" rel="noopener">Abrir en Tinkercad</a>` : ''}
              <span class="chip">#ERB2</span>
              <span class="chip">#Rob√≥tica</span>
            </div>

            <details class="more">
              <summary>Ver contenido completo</summary>
              <div class="two-col">
                <div class="section">
                  <h4>Desarrollo (paso a paso)</h4>
                  ${sectionList(c.desarrollo)}
                </div>
                <div class="section">
                  <h4>Preguntas objetivo</h4>
                  ${sectionList(c.preguntasObjetivo)}
                </div>
                <div class="section">
                  <h4>Preguntas propuestas</h4>
                  ${sectionList(c.preguntasPropuestas)}
                </div>
                <div class="section">
                  <h4>Gu√≠a pedag√≥gica</h4>
                  ${sectionList(c.guia)}
                </div>
                <div class="section">
                  <h4>Conceptos clave</h4>
                  ${sectionList(c.conceptos)}
                </div>
                <div class="section">
                  <h4>Aplicaci√≥n a la vida</h4>
                  <p>${c.aplicacion || '‚Äî'}</p>
                </div>
                <div class="section">
                  <h4>Herramientas necesarias</h4>
                  ${sectionList(c.herramientas)}
                </div>
                <div class="section">
                  <h4>Archivos adjuntos</h4>
                  ${c.adjuntos && c.adjuntos.length ? `<ul>${c.adjuntos.map(a=>`<li>${a}</li>`).join('')}</ul>` : '<p style="color:#7b8a97">‚Äî</p>'}
                </div>
              </div>
            </details>
          </div>
        </article>`
      }).join('');
    }

    renderNav(MALLA);
    renderCards(MALLA);

    // ================== UX: Active Link, Filter, Expand/Collapse ==================
    const links = [...nav.querySelectorAll('a')];
    const sections = MALLA.map(({n})=> document.getElementById(classSlug(n)));

    const io = new IntersectionObserver((entries)=>{
      const visible = entries.filter(e=>e.isIntersecting).sort((a,b)=> b.intersectionRatio - a.intersectionRatio)[0];
      if(!visible) return;
      const id = visible.target.id;
      [...document.querySelectorAll('.nav a')].forEach(a=> a.classList.toggle('active', a.getAttribute('href') === `#${id}`));
      const n = id.split('-')[1];
      headerTitle.textContent = `Malla ERB 2 ¬∑ Clase ${n}`;
    }, { rootMargin: "-40% 0px -55% 0px", threshold:[0, .1, .25, .5, .75, 1] });

    sections.forEach(sec=> io.observe(sec));

    // Filter
    document.getElementById('filter').addEventListener('input', (e)=>{
      const q = e.target.value.toLowerCase();
      const filtered = MALLA.filter(c => `${c.n} ${c.titulo} ${c.resumen} ${c.objetivos.join(' ')} ${c.conceptos.join(' ')}`.toLowerCase().includes(q));
      renderNav(filtered);
    });

    // Expand/Collapse all: controla <details>
    const getDetails = ()=> [...document.querySelectorAll('details.more')];
    document.getElementById('expandAll').addEventListener('click',()=> getDetails().forEach(d=> d.open = true));
    document.getElementById('collapseAll').addEventListener('click',()=> getDetails().forEach(d=> d.open = false));

    // Keyboard shortcut: G go to top
    window.addEventListener('keydown', (e)=>{ if(e.key.toLowerCase()==='g'){ window.scrollTo({top:0, behavior:'smooth'}) } });
  </script>

  <div id="lightbox">
    <img src="" alt="Expanded image"/>
  </div>
  <script>
    // Lightbox JS
    document.querySelectorAll('.imgs img').forEach(img => {
      img.style.cursor = 'zoom-in';
      img.addEventListener('click', () => {
        const lb = document.getElementById('lightbox');
        lb.querySelector('img').src = img.src;
        lb.style.display = 'flex';
      });
    });
    document.getElementById('lightbox').addEventListener('click', e => {
      if (e.target.id === 'lightbox' || e.target.tagName === 'IMG') {
        document.getElementById('lightbox').style.display = 'none';
      }
    });
  </script>

\1
</html>
